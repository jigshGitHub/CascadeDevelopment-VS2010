@{
    ViewBag.Title = "MediaRequest";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Scripts.Render("~/bundles/jquery")
<h2>
    Media Request</h2>
@Html.Hidden("userId", (string)(@ViewBag.UserID))
@Html.Hidden("agencyId", (string)(@ViewBag.AgencyID))
@Html.Hidden("hdnUserRole", (string)(@ViewBag.UserRole))
<div id="messageSummary" style="font-size: small">
    <ul>
    </ul>
</div>
<div id="newComplaintContainer">
    <table class="searchtable" style="width: 60%">
        <tr>
            <td colspan="2">
                <b>Retrieve Account to begin Media Request:</b>
            </td>
        </tr>
        <tr>
            <td>
                PIMS Account Number:
            </td>
            <td>
                <input type="text" id="pimsAccount" data-bind="hasfocus:setFocus,value:pimsAccountNumber" />
                <span data-bind="text:pimsAccountNumberRequired, visible:pimsAccountNumberRequiredHasError"
                    style="color: Red"></span>
            </td>
        </tr>
        <tr>
            <td>
                Original Account:
            </td>
            <td>
                <input type="text" id="originalAccount" data-bind="value:originalAccountNumber" />
                <span data-bind="text:originalAccountNumberRequired, visible:originalAccountNumberRequiredHasError"
                    style="color: Red"></span>
            </td>
        </tr>
        <tr>
            <td colspan="2" class="confirmBtnContainer">
                <input type="button" id="refreshBtn" title="Search" data-bind="click:search" />
            </td>
        </tr>
    </table>
    <table class="dummyitem" style="width: 60%">
        <tr>
            <td style="text-align: center">
                <div data-bind="fadeVisible:showMessage" style="background-color: #1f497d; color: #fff;">
                    <span data-bind="text:message"></span>
                </div>
            </td>
        </tr>
    </table>
    <table class="PIMSDatatable" style="width: 60%" data-bind="visible:pimsDataAvailable">
        <tr>
            <td style="width: 100%; background-color: #1f497d">
                <a href="#" style="text-decoration: none; font-weight: bold; color: white" data-bind="click:showHidePimsData">
                    PIMS Data:</a>
            </td>
        </tr>
        <tr>
            <td>
                <table data-bind="visible:showPIMSData">
                    <tr>
                        <td style="text-align: right; width: 49%">
                            Portfolio
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:portfolio" style="text-align: left; width: 49%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            Original Lender / Product
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:lender" style="text-align: left; width: 24%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            SSN
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:ssn" style="text-align: left; width: 49%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            Account Holder's Name
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:name" style="text-align: left; width: 49%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            Open Date
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:openDate" style="text-align: left; width: 49%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            C/O date
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:coDate" style="text-align: left; width: 49%">
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; width: 49%">
                            Seller
                        </td>
                        <td style="text-align: center; width: 2%">
                            :
                        </td>
                        <td data-bind="text:seller" style="width: 49%">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="dummyitem">
    </table>
    <table class="FollowupDatatable" data-bind="visible:showMediaTypeSelection" style="width: 60%">
        <tr>
            <td>
                Select media type to request:
            </td>
        </tr>
        <tr>
            <td>
                <ul data-bind="foreach: mediaTypes">
                    <li>
                        <input type="checkbox" data-bind="click: $parent.mediaChecked,value:Value,attr: {id: 'mediaType' + Value}" />&nbsp;<span
                            data-bind="text: Text, attr:{for: 'mediaType'+ Value}"></span></li>
                </ul>
            </td>
        </tr>
    </table>
</div>
@Scripts.Render("~/bundles/knockout")
@section scripts{
    <script src="~/Scripts/jquery-ui-1.8.11.js" type="text/javascript"></script>
    <script src="~/Scripts/mediaRequest.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#messageSummary').dialog({ modal: true, title: 'Summary:', autoOpen: false, width: 200, height: 200 });
            ko.applyBindings(new pageViewModel($('#userId').val(), $('#agencyId').val(), $('#hdnUserRole').val()));
        });
    </script>
}
